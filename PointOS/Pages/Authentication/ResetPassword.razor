@page "/Account/ResetPassword"
@layout LoginLayout

@inherits PointOS.Services.PasswordVisibilityBase


<EditForm Model="@ResetPasswordRequest" OnValidSubmit="@SubmitRequest">
    <DataAnnotationsValidator></DataAnnotationsValidator>

    <MudText Typo="Typo.h4" GutterBottom="true">Set new password</MudText>

    @if (!string.IsNullOrWhiteSpace(ErrorMessage))
    {
<MudAlert Severity="Severity.Error" Class="mt-8 mud-width-full" Style="max-width: 500px;" Elevation="25">
    @ErrorMessage
</MudAlert>}

    <MudTextField @bind-Value="@ResetPasswordRequest.Password" Label="New Password" Variant="Variant.Outlined" InputType="@PasswordInput" Adornment="Adornment.End" AdornmentIcon="@PasswordInputIcon" OnAdornmentClick="TogglePasswordVisibility" Class="my-4" For="@(()=>ResetPasswordRequest.Password)" />

    <MudTextField @bind-Value="@ResetPasswordRequest.ConfirmPassword" Label="Confirm New Password" Variant="Variant.Outlined" InputType="@PasswordInput" Adornment="Adornment.End" AdornmentIcon="@PasswordInputIcon" OnAdornmentClick="TogglePasswordVisibility" Class="my-4" For="@(()=>ResetPasswordRequest.ConfirmPassword)" />

    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large" FullWidth="true" Class="mt-2">@ButtonSubmitText</MudButton>

    @if (IsOverlayVisible)
    {
<FormOverlay />}
</EditForm>
